
const data = {
    // 四大吉星
    // 天医 (财富、婚姻)
    '13': ['八星:天医(财富、婚姻),最强,阳刚\n优点：天生资质好，聪明，心地善良。财富磁场强大，容易吸引金钱，赚钱不费力，并且容易收获美好的爱情或步入婚姻。在事业上，因为聪明和财运，容易成为老板或行业专家。\n缺点：由于天性善良，有时会显得过于单纯，缺乏主见，容易轻信他人而受骗。他们对金钱没有太多概念，花钱时也比较大方。'],
    '31': ['八星:天医(财富、婚姻),最强,阳刚\n优点：天生资质好，聪明，心地善良。财富磁场强大，容易吸引金钱，赚钱不费力，并且容易收获美好的爱情或步入婚姻。在事业上，因为聪明和财运，容易成为老板或行业专家。\n缺点：由于天性善良，有时会显得过于单纯，缺乏主见，容易轻信他人而受骗。他们对金钱没有太多概念，花钱时也比较大方。'],
    '68': ['八星:天医(财富、婚姻),强,阳刚\n优点：天生资质好，聪明，心地善良。财富磁场强大，容易吸引金钱，赚钱不费力，并且容易收获美好的爱情或步入婚姻。在事业上，因为聪明和财运，容易成为老板或行业专家。\n缺点：由于天性善良，有时会显得过于单纯，缺乏主见，容易轻信他人而受骗。他们对金钱没有太多概念，花钱时也比较大方。'],
    '86': ['八星:天医(财富、婚姻),强,阳刚\n优点：天生资质好，聪明，心地善良。财富磁场强大，容易吸引金钱，赚钱不费力，并且容易收获美好的爱情或步入婚姻。在事业上，因为聪明和财运，容易成为老板或行业专家。\n缺点：由于天性善良，有时会显得过于单纯，缺乏主见，容易轻信他人而受骗。他们对金钱没有太多概念，花钱时也比较大方。'],
    '94': ['八星:天医(财富、婚姻),较弱，阴柔\n优点：天生资质好，聪明，心地善良。财富磁场强大，容易吸引金钱，赚钱不费力，并且容易收获美好的爱情或步入婚姻。在事业上，因为聪明和财运，容易成为老板或行业专家。\n缺点：由于天性善良，有时会显得过于单纯，缺乏主见，容易轻信他人而受骗。他们对金钱没有太多概念，花钱时也比较大方。'],
    '49': ['八星:天医(财富、婚姻),较弱，阴柔\n优点：天生资质好，聪明，心地善良。财富磁场强大，容易吸引金钱，赚钱不费力，并且容易收获美好的爱情或步入婚姻。在事业上，因为聪明和财运，容易成为老板或行业专家。\n缺点：由于天性善良，有时会显得过于单纯，缺乏主见，容易轻信他人而受骗。他们对金钱没有太多概念，花钱时也比较大方。'],
    '72': ['八星:天医(财富、婚姻),最弱，阴柔\n优点：天生资质好，聪明，心地善良。财富磁场强大，容易吸引金钱，赚钱不费力，并且容易收获美好的爱情或步入婚姻。在事业上，因为聪明和财运，容易成为老板或行业专家。\n缺点：由于天性善良，有时会显得过于单纯，缺乏主见，容易轻信他人而受骗。他们对金钱没有太多概念，花钱时也比较大方。'],
    '27': ['八星:天医(财富、婚姻),最弱，阴柔\n优点：天生资质好，聪明，心地善良。财富磁场强大，容易吸引金钱，赚钱不费力，并且容易收获美好的爱情或步入婚姻。在事业上，因为聪明和财运，容易成为老板或行业专家。\n缺点：由于天性善良，有时会显得过于单纯，缺乏主见，容易轻信他人而受骗。他们对金钱没有太多概念，花钱时也比较大方。'],
    
    // 生气 (贵人、人缘)
    '14': ['八星:生气(贵人、人缘),最强,阳刚\n优点：天性乐观，随和开朗，是天生的乐天派。拥有极佳的人缘，无论遇到什么困难，总有贵人出手相助，能够化险为夷。他们看待事情非常坦然，不计较，是团队中的"和事佬"。\n缺点：企图心和上进心不强，容易满足于现状，显得有些懒散和被动。在事业上缺乏冲劲，对目标追求不够执着。'],
    '41': ['八星:生气(贵人、人缘),最强,阳刚\n优点：天性乐观，随和开朗，是天生的乐天派。拥有极佳的人缘，无论遇到什么困难，总有贵人出手相助，能够化险为夷。他们看待事情非常坦然，不计较，是团队中的"和事佬"。\n缺点：企图心和上进心不强，容易满足于现状，显得有些懒散和被动。在事业上缺乏冲劲，对目标追求不够执着。'],
    '67': ['八星:生气(贵人、人缘),强,阳刚\n优点：天性乐观，随和开朗，是天生的乐天派。拥有极佳的人缘，无论遇到什么困难，总有贵人出手相助，能够化险为夷。他们看待事情非常坦然，不计较，是团队中的"和事佬"。\n缺点：企图心和上进心不强，容易满足于现状，显得有些懒散和被动。在事业上缺乏冲劲，对目标追求不够执着。'],
    '76': ['八星:生气(贵人、人缘),强,阳刚\n优点：天性乐观，随和开朗，是天生的乐天派。拥有极佳的人缘，无论遇到什么困难，总有贵人出手相助，能够化险为夷。他们看待事情非常坦然，不计较，是团队中的"和事佬"。\n缺点：企图心和上进心不强，容易满足于现状，显得有些懒散和被动。在事业上缺乏冲劲，对目标追求不够执着。'],
    '93': ['八星:生气(贵人、人缘),较弱，阴柔\n优点：天性乐观，随和开朗，是天生的乐天派。拥有极佳的人缘，无论遇到什么困难，总有贵人出手相助，能够化险为夷。他们看待事情非常坦然，不计较，是团队中的"和事佬"。\n缺点：企图心和上进心不强，容易满足于现状，显得有些懒散和被动。在事业上缺乏冲劲，对目标追求不够执着。'],
    '39': ['八星:生气(贵人、人缘),较弱，阴柔\n优点：天性乐观，随和开朗，是天生的乐天派。拥有极佳的人缘，无论遇到什么困难，总有贵人出手相助，能够化险为夷。他们看待事情非常坦然，不计较，是团队中的"和事佬"。\n缺点：企图心和上进心不强，容易满足于现状，显得有些懒散和被动。在事业上缺乏冲劲，对目标追求不够执着。'],
    '82': ['八星:生气(贵人、人缘),最弱，阴柔\n优点：天性乐观，随和开朗，是天生的乐天派。拥有极佳的人缘，无论遇到什么困难，总有贵人出手相助，能够化险为夷。他们看待事情非常坦然，不计较，是团队中的"和事佬"。\n缺点：企图心和上进心不强，容易满足于现状，显得有些懒散和被动。在事业上缺乏冲劲，对目标追求不够执着。'],
    '28': ['八星:生气(贵人、人缘),最弱，阴柔\n优点：天性乐观，随和开朗，是天生的乐天派。拥有极佳的人缘，无论遇到什么困难，总有贵人出手相助，能够化险为夷。他们看待事情非常坦然，不计较，是团队中的"和事佬"。\n缺点：企图心和上进心不强，容易满足于现状，显得有些懒散和被动。在事业上缺乏冲劲，对目标追求不够执着。'],
    
    // 延年 (事业、能力)
    '19': ['八星:延年(事业、能力),最强,阳刚\n优点：具有强大的领导力和责任感，是天生的大将之才。做事专业，意志坚定，有主见，能够独当一面。在理财方面懂得规划和节制，是懂得"守财"的类型。\n缺点：性格强势，好作主导，有时显得固执，听不进他人意见。工作压力大，容易劳心劳力，长期下来可能影响健康，特别是肩颈和心脏方面的问题。'],
    '91': ['八星:延年(事业、能力),最强,阳刚\n优点：具有强大的领导力和责任感，是天生的大将之才。做事专业，意志坚定，有主见，能够独当一面。在理财方面懂得规划和节制，是懂得"守财"的类型。\n缺点：性格强势，好作主导，有时显得固执，听不进他人意见。工作压力大，容易劳心劳力，长期下来可能影响健康，特别是肩颈和心脏方面的问题。'],
    '87': ['八星:延年(事业、能力),强,阳刚\n优点：具有强大的领导力和责任感，是天生的大将之才。做事专业，意志坚定，有主见，能够独当一面。在理财方面懂得规划和节制，是懂得"守财"的类型。\n缺点：性格强势，好作主导，有时显得固执，听不进他人意见。工作压力大，容易劳心劳力，长期下来可能影响健康，特别'],
    '78': ['八星:延年(事业、能力),强,阳刚\n优点：具有强大的领导力和责任感，是天生的大将之才。做事专业，意志坚定，有主见，能够独当一面。在理财方面懂得规划和节制，是懂得"守财"的类型。\n缺点：性格强势，好作主导，有时显得固执，听不进他人意见。工作压力大，容易劳心劳力，长期下来可能影响健康，特别'],
    '43': ['八星:延年(事业、能力),较弱，阴柔\n优点：具有强大的领导力和责任感，是天生的大将之才。做事专业，意志坚定，有主见，能够独当一面。在理财方面懂得规划和节制，是懂得"守财"的类型。\n缺点：性格强势，好作主导，有时显得固执，听不进他人意见。工作压力大，容易劳心劳力，长期下来可能影响健康，特别'],
    '34': ['八星:延年(事业、能力),较弱，阴柔\n优点：具有强大的领导力和责任感，是天生的大将之才。做事专业，意志坚定，有主见，能够独当一面。在理财方面懂得规划和节制，是懂得"守财"的类型。\n缺点：性格强势，好作主导，有时显得固执，听不进他人意见。工作压力大，容易劳心劳力，长期下来可能影响健康，特别'],
    '26': ['八星:延年(事业、能力),最弱，阴柔\n优点：具有强大的领导力和责任感，是天生的大将之才。做事专业，意志坚定，有主见，能够独当一面。在理财方面懂得规划和节制，是懂得"守财"的类型。\n缺点：性格强势，好作主导，有时显得固执，听不进他人意见。工作压力大，容易劳心劳力，长期下来可能影响健康，特别'],
    '62': ['八星:延年(事业、能力),最弱，阴柔\n优点：具有强大的领导力和责任感，是天生的大将之才。做事专业，意志坚定，有主见，能够独当一面。在理财方面懂得规划和节制，是懂得"守财"的类型。\n缺点：性格强势，好作主导，有时显得固执，听不进他人意见。工作压力大，容易劳心劳力，长期下来可能影响健康，特别'],
    
    // 伏位 (稳定、忍耐)
    '11': ['八星:伏位(稳定、忍耐),最强,阳刚\n优点：有极强的耐心和毅力，做事谨慎，善于等待时机。他们能够卧薪尝胆，厚积薄发，适合从事需要长期坚持和研究的工作。\n缺点：性格偏于保守和被动，内心缺乏安全感，有时会因为过于犹豫而错失良机。事业和感情上容易陷入被动等待的局面，突破性不强，进展缓慢。'],
    '22': ['八星:伏位(稳定、忍耐),最强,阳刚\n优点：有极强的耐心和毅力，做事谨慎，善于等待时机。他们能够卧薪尝胆，厚积薄发，适合从事需要长期坚持和研究的工作。\n缺点：性格偏于保守和被动，内心缺乏安全感，有时会因为过于犹豫而错失良机。事业和感情上容易陷入被动等待的局面，突破性不强，进展缓慢。'],
    '99': ['八星:伏位(稳定、忍耐),强,阳刚\n优点：有极强的耐心和毅力，做事谨慎，善于等待时机。他们能够卧薪尝胆，厚积薄发，适合从事需要长期坚持和研究的工作。\n缺点：性格偏于保守和被动，内心缺乏安全感，有时会因为过于犹豫而错失良机。事业和感情上容易陷入被动等待的局面，突破性不强，进展缓慢。'],
    '88': ['八星:伏位(稳定、忍耐),强,阳刚\n优点：有极强的耐心和毅力，做事谨慎，善于等待时机。他们能够卧薪尝胆，厚积薄发，适合从事需要长期坚持和研究的工作。\n缺点：性格偏于保守和被动，内心缺乏安全感，有时会因为过于犹豫而错失良机。事业和感情上容易陷入被动等待的局面，突破性不强，进展缓慢。'],
    '77': ['八星:伏位(稳定、忍耐),较弱，阴柔\n优点：有极强的耐心和毅力，做事谨慎，善于等待时机。他们能够卧薪尝胆，厚积薄发，适合从事需要长期坚持和研究的工作。\n缺点：性格偏于保守和被动，内心缺乏安全感，有时会因为过于犹豫而错失良机。事业和感情上容易陷入被动等待的局面，突破性不强，进展缓慢。'],
    '66': ['八星:伏位(稳定、忍耐),较弱，阴柔\n优点：有极强的耐心和毅力，做事谨慎，善于等待时机。他们能够卧薪尝胆，厚积薄发，适合从事需要长期坚持和研究的工作。\n缺点：性格偏于保守和被动，内心缺乏安全感，有时会因为过于犹豫而错失良机。事业和感情上容易陷入被动等待的局面，突破性不强，进展缓慢。'],
    '44': ['八星:伏位(稳定、忍耐),最弱，阴柔\n优点：有极强的耐心和毅力，做事谨慎，善于等待时机。他们能够卧薪尝胆，厚积薄发，适合从事需要长期坚持和研究的工作。\n缺点：性格偏于保守和被动，内心缺乏安全感，有时会因为过于犹豫而错失良机。事业和感情上容易陷入被动等待的局面，突破性不强，进展缓慢。'],
    '33': ['八星:伏位(稳定、忍耐),最弱，阴柔\n优点：有极强的耐心和毅力，做事谨慎，善于等待时机。他们能够卧薪尝胆，厚积薄发，适合从事需要长期坚持和研究的工作。\n缺点：性格偏于保守和被动，内心缺乏安全感，有时会因为过于犹豫而错失良机。事业和感情上容易陷入被动等待的局面，突破性不强，进展缓慢。'],
    
    // 四大凶星
    // 绝命 (投资、极端)
    '12': ['八星:绝命(投资、极端),最强,阳刚\n优点：头脑反应快，敢于冒险和拼搏，在投资领域有独特的敏锐度和判断力，能够抓住机会赚取大笔财富。他们富有激情，做事果断。\n缺点：情绪和财运都极不稳定，大起大落。花钱如流水，不善于理财，容易导致负债。性格冲动，好胜心强，容易与人发生冲突，甚至引发官司。'],
    '21': ['八星:绝命(投资、极端),最强,阳刚\n优点：头脑反应快，敢于冒险和拼搏，在投资领域有独特的敏锐度和判断力，能够抓住机会赚取大笔财富。他们富有激情，做事果断。\n缺点：情绪和财运都极不稳定，大起大落。花钱如流水，不善于理财，容易导致负债。性格冲动，好胜心强，容易与人发生冲突，甚至引发官司。'],
    '69': ['八星:绝命(投资、极端),强,阳刚\n优点：头脑反应快，敢于冒险和拼搏，在投资领域有独特的敏锐度和判断力，能够抓住机会赚取大笔财富。他们富有激情，做事果断。\n缺点：情绪和财运都极不稳定，大起大落。花钱如流水，不善于理财，容易导致负债。性格冲动，好胜心强，容易与人发生冲突，甚至引发官司。'],
    '96': ['八星:绝命(投资、极端),强,阳刚\n优点：头脑反应快，敢于冒险和拼搏，在投资领域有独特的敏锐度和判断力，能够抓住机会赚取大笔财富。他们富有激情，做事果断。\n缺点：情绪和财运都极不稳定，大起大落。花钱如流水，不善于理财，容易导致负债。性格冲动，好胜心强，容易与人发生冲突，甚至引发官司。'],
    '84': ['八星:绝命(投资、极端),较弱，阴柔\n优点：头脑反应快，敢于冒险和拼搏，在投资领域有独特的敏锐度和判断力，能够抓住机会赚取大笔财富。他们富有激情，做事果断。\n缺点：情绪和财运都极不稳定，大起大落。花钱如流水，不善于理财，容易导致负债。性格冲动，好胜心强，容易与人发生冲突，甚至引发官司。'],
    '48': ['八星:绝命(投资、极端),较弱，阴柔\n优点：头脑反应快，敢于冒险和拼搏，在投资领域有独特的敏锐度和判断力，能够抓住机会赚取大笔财富。他们富有激情，做事果断。\n缺点：情绪和财运都极不稳定，大起大落。花钱如流水，不善于理财，容易导致负债。性格冲动，好胜心强，容易与人发生冲突，甚至引发官司。'],
    '73': ['八星:绝命(投资、极端),最弱，阴柔\n优点：头脑反应快，敢于冒险和拼搏，在投资领域有独特的敏锐度和判断力，能够抓住机会赚取大笔财富。他们富有激情，做事果断。\n缺点：情绪和财运都极不稳定，大起大落。花钱如流水，不善于理财，容易导致负债。性格冲动，好胜心强，容易与人发生冲突，甚至引发官司。'],
    '37': ['八星:绝命(投资、极端),最弱，阴柔\n优点：头脑反应快，敢于冒险和拼搏，在投资领域有独特的敏锐度和判断力，能够抓住机会赚取大笔财富。他们富有激情，做事果断。\n缺点：情绪和财运都极不稳定，大起大落。花钱如流水，不善于理财，容易导致负债。性格冲动，好胜心强，容易与人发生冲突，甚至引发官司。'],
    
    // 五鬼 (智慧、变动)
    '18': ['八星:五鬼(智慧、变动),最强,阳刚\n优点：才华横溢，思维敏捷，具有逆向思维和鬼才般的创造力，适合从事策划、设计、玄学等需要灵感的工作。容易获得偏财或暗财。\n缺点：性格多变，想法怪异，令人难以捉摸。缺乏安全感，容易吸引血光之灾或突发意外。感情上极不稳定，容易出现三角恋或瞬间分手的情况。'],
    '81': ['八星:五鬼(智慧、变动),最强,阳刚\n优点：才华横溢，思维敏捷，具有逆向思维和鬼才般的创造力，适合从事策划、设计、玄学等需要灵感的工作。容易获得偏财或暗财。\n缺点：性格多变，想法怪异，令人难以捉摸。缺乏安全感，容易吸引血光之灾或突发意外。感情上极不稳定，容易出现三角恋或瞬间分手的情况。'],
    '97': ['八星:五鬼(智慧、变动),强,阳刚\n优点：才华横溢，思维敏捷，具有逆向思维和鬼才般的创造力，适合从事策划、设计、玄学等需要灵感的工作。容易获得偏财或暗财。\n缺点：性格多变，想法怪异，令人难以捉摸。缺乏安全感，容易吸引血光之灾或突发意外。感情上极不稳定，容易出现三角恋或瞬间分手的情况。'],
    '79': ['八星:五鬼(智慧、变动),强,阳刚\n优点：才华横溢，思维敏捷，具有逆向思维和鬼才般的创造力，适合从事策划、设计、玄学等需要灵感的工作。容易获得偏财或暗财。\n缺点：性格多变，想法怪异，令人难以捉摸。缺乏安全感，容易吸引血光之灾或突发意外。感情上极不稳定，容易出现三角恋或瞬间分手的情况。'],
    '63': ['八星:五鬼(智慧、变动),较弱，阴柔\n优点：才华横溢，思维敏捷，具有逆向思维和鬼才般的创造力，适合从事策划、设计、玄学等需要灵感的工作。容易获得偏财或暗财。\n缺点：性格多变，想法怪异，令人难以捉摸。缺乏安全感，容易吸引血光之灾或突发意外。感情上极不稳定，容易出现三角恋或瞬间分手的情况。'],
    '36': ['八星:五鬼(智慧、变动),较弱，阴柔\n优点：才华横溢，思维敏捷，具有逆向思维和鬼才般的创造力，适合从事策划、设计、玄学等需要灵感的工作。容易获得偏财或暗财。\n缺点：性格多变，想法怪异，令人难以捉摸。缺乏安全感，容易吸引血光之灾或突发意外。感情上极不稳定，容易出现三角恋或瞬间分手的情况。'],
    '42': ['八星:五鬼(智慧、变动),最弱，阴柔\n优点：才华横溢，思维敏捷，具有逆向思维和鬼才般的创造力，适合从事策划、设计、玄学等需要灵感的工作。容易获得偏财或暗财。\n缺点：性格多变，想法怪异，令人难以捉摸。缺乏安全感，容易吸引血光之灾或突发意外。感情上极不稳定，容易出现三角恋或瞬间分手的情况。'],
    '24': ['八星:五鬼(智慧、变动),最弱，阴柔\n优点：才华横溢，思维敏捷，具有逆向思维和鬼才般的创造力，适合从事策划、设计、玄学等需要灵感的工作。容易获得偏财或暗财。\n缺点：性格多变，想法怪异，令人难以捉摸。缺乏安全感，容易吸引血光之灾或突发意外。感情上极不稳定，容易出现三角恋或瞬间分手的情况。'],
    
    // 祸害 (口才、是非)
    '17': ['八星:祸害(口才、是非),最强,阳刚\n优点：能言善辩，口才极佳，非常适合从事以口为业的工作，如销售、讲师、律师、主持人等。\n缺点：脾气暴躁，说话直接，容易因言语得罪人。爱面子，好胜心强，喜欢与人争辩，容易招惹小人和口舌是非。健康上易有气管、喉咙或免疫系统方面的问题。'],
    '71': ['八星:祸害(口才、是非),最强,阳刚\n优点：能言善辩，口才极佳，非常适合从事以口为业的工作，如销售、讲师、律师、主持人等。\n缺点：脾气暴躁，说话直接，容易因言语得罪人。爱面子，好胜心强，喜欢与人争辩，容易招惹小人和口舌是非。健康上易有气管、喉咙或免疫系统方面的问题。'],
    '98': ['八星:祸害(口才、是非),强,阳刚\n优点：能言善辩，口才极佳，非常适合从事以口为业的工作，如销售、讲师、律师、主持人等。\n缺点：脾气暴躁，说话直接，容易因言语得罪人。爱面子，好胜心强，喜欢与人争辩，容易招惹小人和口舌是非。健康上易有气管、喉咙或免疫系统方面的问题。'],
    '89': ['八星:祸害(口才、是非),强,阳刚\n优点：能言善辩，口才极佳，非常适合从事以口为业的工作，如销售、讲师、律师、主持人等。\n缺点：脾气暴躁，说话直接，容易因言语得罪人。爱面子，好胜心强，喜欢与人争辩，容易招惹小人和口舌是非。健康上易有气管、喉咙或免疫系统方面的问题。'],
    '64': ['八星:祸害(口才、是非),较弱，阴柔\n优点：能言善辩，口才极佳，非常适合从事以口为业的工作，如销售、讲师、律师、主持人等。\n缺点：脾气暴躁，说话直接，容易因言语得罪人。爱面子，好胜心强，喜欢与人争辩，容易招惹小人和口舌是非。健康上易有气管、喉咙或免疫系统方面的问题。'],
    '46': ['八星:祸害(口才、是非),较弱，阴柔\n优点：能言善辩，口才极佳，非常适合从事以口为业的工作，如销售、讲师、律师、主持人等。\n缺点：脾气暴躁，说话直接，容易因言语得罪人。爱面子，好胜心强，喜欢与人争辩，容易招惹小人和口舌是非。健康上易有气管、喉咙或免疫系统方面的问题。'],
    '32': ['八星:祸害(口才、是非),最弱，阴柔\n优点：能言善辩，口才极佳，非常适合从事以口为业的工作，如销售、讲师、律师、主持人等。\n缺点：脾气暴躁，说话直接，容易因言语得罪人。爱面子，好胜心强，喜欢与人争辩，容易招惹小人和口舌是非。健康上易有气管、喉咙或免疫系统方面的问题。'],
    '23': ['八星:祸害(口才、是非),最弱，阴柔\n优点：能言善辩，口才极佳，非常适合从事以口为业的工作，如销售、讲师、律师、主持人等。\n缺点：脾气暴躁，说话直接，容易因言语得罪人。爱面子，好胜心强，喜欢与人争辩，容易招惹小人和口舌是非。健康上易有气管、喉咙或免疫系统方面的问题。'],
    
    // 六煞 (情感、人际)
    '16': ['八星:六煞(情感、人际),最强,阳刚\n优点：外表富有魅力，善于交际，懂得变通，在处理人际关系方面非常圆融。异性缘极佳，适合在服务业、公关或与美相关的行业发展。\n缺点：情感丰富但脆弱，容易为情所困，情绪起伏大，易产生忧郁情绪。由于异性缘太好，容易陷入不健康的感情纠葛（偏桃花），导致情感和家庭生活不稳定。'],
    '61': ['八星:六煞(情感、人际),最强,阳刚\n优点：外表富有魅力，善于交际，懂得变通，在处理人际关系方面非常圆融。异性缘极佳，适合在服务业、公关或与美相关的行业发展。\n缺点：情感丰富但脆弱，容易为情所困，情绪起伏大，易产生忧郁情绪。由于异性缘太好，容易陷入不健康的感情纠葛（偏桃花），导致情感和家庭生活不稳定。'],
    '74': ['八星:六煞(情感、人际),强,阳刚\n优点：外表富有魅力，善于交际，懂得变通，在处理人际关系方面非常圆融。异性缘极佳，适合在服务业、公关或与美相关的行业发展。\n缺点：情感丰富但脆弱，容易为情所困，情绪起伏大，易产生忧郁情绪。由于异性缘太好，容易陷入不健康的感情纠葛（偏桃花），导致情感和家庭生活不稳定。'],
    '47': ['八星:六煞(情感、人际),强,阳刚\n优点：外表富有魅力，善于交际，懂得变通，在处理人际关系方面非常圆融。异性缘极佳，适合在服务业、公关或与美相关的行业发展。\n缺点：情感丰富但脆弱，容易为情所困，情绪起伏大，易产生忧郁情绪。由于异性缘太好，容易陷入不健康的感情纠葛（偏桃花），导致情感和家庭生活不稳定。'],
    '38': ['八星:六煞(情感、人际),较弱，阴柔\n优点：外表富有魅力，善于交际，懂得变通，在处理人际关系方面非常圆融。异性缘极佳，适合在服务业、公关或与美相关的行业发展。\n缺点：情感丰富但脆弱，容易为情所困，情绪起伏大，易产生忧郁情绪。由于异性缘太好，容易陷入不健康的感情纠葛（偏桃花），导致情感和家庭生活不稳定。'],
    '83': ['八星:六煞(情感、人际),较弱，阴柔\n优点：外表富有魅力，善于交际，懂得变通，在处理人际关系方面非常圆融。异性缘极佳，适合在服务业、公关或与美相关的行业发展。\n缺点：情感丰富但脆弱，容易为情所困，情绪起伏大，易产生忧郁情绪。由于异性缘太好，容易陷入不健康的感情纠葛（偏桃花），导致情感和家庭生活不稳定。'],
    '92': ['八星:六煞(情感、人际),最弱，阴柔\n优点：外表富有魅力，善于交际，懂得变通，在处理人际关系方面非常圆融。异性缘极佳，适合在服务业、公关或与美相关的行业发展。\n缺点：情感丰富但脆弱，容易为情所困，情绪起伏大，易产生忧郁情绪。由于异性缘太好，容易陷入不健康的感情纠葛（偏桃花），导致情感和家庭生活不稳定。'],
    '29': ['八星:六煞(情感、人际),最弱，阴柔\n优点：外表富有魅力，善于交际，懂得变通，在处理人际关系方面非常圆融。异性缘极佳，适合在服务业、公关或与美相关的行业发展。\n缺点：情感丰富但脆弱，容易为情所困，情绪起伏大，易产生忧郁情绪。由于异性缘太好，容易陷入不健康的感情纠葛（偏桃花），导致情感和家庭生活不稳定。']
};

const auspicious_stars = ['天医', '生气', '延年', '伏位'];
const inauspicious_stars = ['绝命', '五鬼', '祸害', '六煞'];

const star_elements = {
    '天医': '土',
    '生气': '木',
    '延年': '金',
    '伏位': '土',
    '绝命': '金',
    '五鬼': '火',
    '祸害': '火',
    '六煞': '水'
};

const special_combinations = {
    '绝命+天医': '投资生财：绝命代表冒险、冲动和投资，本身容易破财。但加上天医后，就意味着敢于投资并能获得回报，将"破财"的风险转化为"赚钱"的结果。',
    '祸害+天医': '口才生财：祸害代表口才和口舌是非。单独存在时易与人争吵，但加上天医后，就表示能通过口才、演说或沟通来赚钱。',
    '五鬼+天医': '智慧生财：五鬼代表智慧、才华和变动，也容易产生不稳定的想法。后面跟随天医，意味着能将这些独特的想法和策划能力转化为财富，获得"偏财"或"暗财"。',
    '六煞+天医': '人脉/魅力生财：六煞代表情感、人际关系和魅力。加上天医后，表示能将良好的人际关系和个人魅力转化为财富，尤其是在与人打交道的行业中。',
    '生气+天医': '贵人带财：生气代表贵人和好人缘，天医代表财富。这个组合意味着通过朋友、贵人的帮助轻松获得财富和机会，是典型的"有人帮着你赚钱"。',
    '天医+延年': '守财有道：天医带来财富，延年代表理财能力和责任心。这个组合是典型的"老板格局"，不仅会赚钱，更懂得如何管理和守护财富，让钱财持续增长。',
    '生气+延年': '乐在工作，贵人相助：生气让你对工作充满热情和乐观，延年则赋予你专业能力。这个组合意味着在工作中总有贵人相助，事业发展顺利，容易得到认可和升迁。',
    // 吉星之间的组合
    '天医+生气': '财富与人缘并重：天医带来财富，生气带来好人缘。这个组合意味着既有财运又有人缘，容易通过人际关系获得财富机会。',
    '生气+伏位': '稳定的人际关系：生气代表好人缘，伏位代表稳定和忍耐。这个组合意味着能建立稳定而持久的人际关系网络。',
    '天医+伏位': '稳定的财富：天医代表财富，伏位代表稳定。这个组合意味着财富来源稳定，能够持续获得收入。',
    '延年+天医': '专业理财：延年代表专业能力和责任心，天医代表财富。这个组合意味着具备专业的理财能力，能够有效管理和增值财富。',
    '延年+生气': '专业与人缘结合：延年代表专业能力，生气代表好人缘。这个组合意味着既有专业技能又有人际关系，事业发展顺利。',
    '延年+伏位': '专业稳定发展：延年代表专业能力，伏位代表稳定。这个组合意味着专业技能能够稳定发展，事业基础牢固。',
    '伏位+天医': '稳定财富积累：伏位代表稳定，天医代表财富。这个组合意味着能够稳定地积累财富，财务状况良好且持续。',
    '伏位+生气': '稳定人际关系：伏位代表稳定，生气代表好人缘。这个组合意味着人际关系稳定，能够建立持久的友谊和合作关系。',
    '伏位+延年': '稳健发展：伏位代表稳定，延年代表专业能力。这个组合意味着在稳定的环境中发展专业技能，事业稳步前进。'
};

function translate_input(input_str) {
    let translated_str = "";
    for (const char of input_str) {
        if (/[a-zA-Z]/.test(char)) {
            const num = char.toUpperCase().charCodeAt(0) - 'A'.charCodeAt(0) + 1;
            translated_str += num.toString();
        } else if (/[0-9]/.test(char)) {
            translated_str += char;
        }
        // Any other character (like '-') is ignored.
    }
    return translated_str;
}

function analyze_tail_numbers(translated_str, is_short) {
    const results = [];
    let analysis = '';

    const tail_str = is_short ? translated_str : (translated_str.length > 6 ? translated_str.slice(-6) : translated_str);

    if (tail_str.length < 2) {
        return [];
    }

    const last_two = tail_str.length >= 2 ? tail_str.slice(-2) : tail_str;
    const has_zero_or_five = last_two.includes('0') || last_two.includes('5');

    let skip_zero_combination_found = false;
    if (tail_str.length >= 3 && tail_str[tail_str.length - 2] === '0' && /[1-9]/.test(tail_str[tail_str.length - 1])) {
        const skip_zero_pair = tail_str[tail_str.length - 3] + tail_str[tail_str.length - 1];
        if (data[skip_zero_pair]) {
            skip_zero_combination_found = true;
        }
    }

    if ((has_zero_or_five && tail_str.length >= 3) || skip_zero_combination_found) {
        const last_three = tail_str.slice(-3);
        analysis = `尾号分析（后三位 ${last_three}）：\n`;

        const positions = ["倒数第三位", "倒数第二位", "最后一位"];
        for (let i = 0; i < last_three.length; i++) {
            const digit = last_three[i];
            const position = positions[i];
            if (digit !== '0' && digit !== '5') {
                if (i < last_three.length - 1) {
                    const pair = digit + last_three[i+1];
                    if (data[pair]) {
                        const star_info = data[pair][0];
                        const first_line = star_info.split('\n')[0];
                        analysis += `- ${position}数字组合${pair}：${first_line}\n`;
                    }
                }
            }
        }

        if (last_three.length >= 3 && last_three[1] === '0') {
            const skip_zero_pair_local = last_three[0] + last_three[2];
            if (data[skip_zero_pair_local]) {
                const star_info = data[skip_zero_pair_local][0];
                const first_line = star_info.split('\n')[0];
                analysis += `- 跳过中间0的数字组合${skip_zero_pair_local}：${first_line}（因0的存在，此为间接组合）\n`;
            }
        }

    } else {
        analysis = `尾号分析（后两位 ${last_two}）：\n`;
        if (data[last_two]) {
            const star_info = data[last_two][0];
            let star_name = null;
            const all_stars = [...auspicious_stars, ...inauspicious_stars];
            for (const star of all_stars) {
                if (star_info.includes(star)) {
                    star_name = star;
                    break;
                }
            }

            if (star_name) {
                if (auspicious_stars.includes(star_name)) {
                    analysis += `- 吉星结尾：${star_name}，通常代表好的结果。`;
                    if (star_name === '天医') {
                        analysis += "可能意味着财运好或感情顺利。\n";
                    } else if (star_name === '延年') {
                        analysis += "代表有能力、能守财。\n";
                    } else if (star_name === '生气') {
                        analysis += "代表人缘好，有贵人相助。\n";
                    }
                } else if (inauspicious_stars.includes(star_name)) {
                    analysis += `- 凶星结尾：${star_name}，通常被视为不吉利。`;
                    if (star_name === '绝命') {
                        analysis += "可能导致投资失利、负债累累。\n";
                    } else if (star_name === '五鬼') {
                        analysis += "可能带来意外、破财或感情突变。\n";
                    } else if (star_name === '祸害') {
                        analysis += "容易招惹口舌是非。\n";
                    } else if (star_name === '六煞') {
                        analysis += "情感丰富但容易为情所困。\n";
                    }
                }
            } else {
                const first_line = star_info.split('\n')[0];
                analysis += `- 数字组合${last_two}：${first_line}\n`;
            }
        } else {
            analysis += "- 未找到对应的八星能量信息。\n";
        }
    }
    
    results.push({
        type: 'tail_analysis',
        content: analysis
    });

    return results;
}

function analyze_combination_pattern(translated_str, is_short) {
    const results = [];
    const analysis_str = is_short ? translated_str : (translated_str.length > 6 ? translated_str.slice(-6) : translated_str);
    
    const pairs = [];
    for (let i = 0; i < analysis_str.length - 1; i++) {
        const comb = analysis_str[i] + analysis_str[i+1];
        if (data[comb]) {
            pairs.push({
                combination: comb,
                content: data[comb][0],
                is_auspicious: auspicious_stars.some(star => data[comb][0].includes(star)),
                is_inauspicious: inauspicious_stars.some(star => data[comb][0].includes(star)),
                position: i,
                first_digit: analysis_str[i],
                second_digit: analysis_str[i+1]
            });
        }
    }
    
    for (let i = 0; i < pairs.length - 1; i++) {
        const current_pair = pairs[i];
        const next_pair = pairs[i+1];
        
        let current_star = null;
        let next_star = null;
        
        const all_stars = [...auspicious_stars, ...inauspicious_stars];
        for (const star of all_stars) {
            if (current_pair.content.includes(star)) {
                current_star = star;
            }
            if (next_pair.content.includes(star)) {
                next_star = star;
            }
        }
        
        if (current_star && next_star) {
            const combo_key = `${current_star}+${next_star}`;
            if (special_combinations[combo_key]) {
                const special_combination_digits = current_pair.combination + next_pair.second_digit;
                results.push({
                    type: 'special_combination',
                    combination: special_combination_digits,
                    first_pair: current_pair.combination,
                    second_pair: next_pair.combination,
                    explanation: special_combinations[combo_key]
                });
            }
        }
    }
    
    // Check for '0' and add explanation only once.
    if (analysis_str.includes('0')) {
        results.push({
            type: 'zero_effect',
            explanation: '数字"0"代表"隐藏"、"空虚"或"能量被削弱"。它可能使相邻数字的能量被隐藏或削弱。'
        });
    }
    
    // Check for '5' and add explanation only once.
    if (analysis_str.includes('5')) {
        results.push({
            type: 'five_effect',
            explanation: '数字"5"有"凸显"、"加强"的含义，可能加强相邻数字的能量。'
        });
    }
    
    return results;
}

function analyzePhoneNumber(phoneNumber) {
    if (!phoneNumber) {
        return { error: '请输入手机号码' };
    }

    const is_short = phoneNumber.length < 11;
    const translated_str = translate_input(phoneNumber);

    const combination_results = analyze_combination_pattern(translated_str, is_short);
    const tail_results = analyze_tail_numbers(translated_str, is_short);

    const analysis_str_for_pairs = is_short ? translated_str : (translated_str.length > 6 ? translated_str.slice(-6) : translated_str);
    const pairs = [];
    for (let i = 0; i < analysis_str_for_pairs.length - 1; i++) {
        const comb = analysis_str_for_pairs[i] + analysis_str_for_pairs[i + 1];
        if (data[comb]) {
            pairs.push({
                combination: comb,
                content: data[comb][0]
            });
        }
    }

    const results = [];

    for (const pair of pairs) {
        const content_lines = pair.content.split('\n');
        const star_info = content_lines[0];
        const star_details = content_lines.slice(1).join('\n');
        
        const is_auspicious = auspicious_stars.some(star => star_info.includes(star));
        const is_inauspicious = inauspicious_stars.some(star => star_info.includes(star));
        
        results.push({
            type: 'pair',
            combination: pair.combination,
            info: star_info,
            details: star_details,
            is_auspicious: is_auspicious,
            is_inauspicious: is_inauspicious
        });
    }

    results.push(...combination_results);
    results.push(...tail_results);

    return { results: results, translated: translated_str };
}

